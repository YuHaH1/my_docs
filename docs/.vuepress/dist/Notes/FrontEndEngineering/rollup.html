<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/hero.jpg"><title>rollup | fancy——Blog</title><meta name="description" content="关键功能">
    <link rel="preload" href="/assets/style-9be8f644.css" as="style"><link rel="stylesheet" href="/assets/style-9be8f644.css">
    <link rel="modulepreload" href="/assets/app-392a8034.js"><link rel="modulepreload" href="/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/assets/rollup.html-c2cc64ab.js"><link rel="modulepreload" href="/assets/rollup.html-51526753.js"><link rel="prefetch" href="/assets/contributing.html-030571aa.js" as="script"><link rel="prefetch" href="/assets/index.html-1e96e632.js" as="script"><link rel="prefetch" href="/assets/index.html-3677acc8.js" as="script"><link rel="prefetch" href="/assets/index.html-d03e4f14.js" as="script"><link rel="prefetch" href="/assets/浏览器相关面经.html-4be1453d.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-2a0b8828.js" as="script"><link rel="prefetch" href="/assets/css面经.html-ba8e8181.js" as="script"><link rel="prefetch" href="/assets/js面经.html-75b3a0d6.js" as="script"><link rel="prefetch" href="/assets/node面经.html-a8b8d726.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-1e709293.js" as="script"><link rel="prefetch" href="/assets/Vue面经.html-abe1dbd7.js" as="script"><link rel="prefetch" href="/assets/CSS相关问题.html-62d7ebe1.js" as="script"><link rel="prefetch" href="/assets/js中遇到的问题.html-bbd6bccb.js" as="script"><link rel="prefetch" href="/assets/埋点.html-f23b45f4.js" as="script"><link rel="prefetch" href="/assets/pm2.html-d064e91d.js" as="script"><link rel="prefetch" href="/assets/项目中得到的问题.html-70d347bc.js" as="script"><link rel="prefetch" href="/assets/服务器.html-f080f7ca.js" as="script"><link rel="prefetch" href="/assets/算法.html-d212306f.js" as="script"><link rel="prefetch" href="/assets/浏览器必备知识.html-dbbd7c35.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-ccd9b621.js" as="script"><link rel="prefetch" href="/assets/你不知道的css.html-fe8aef59.js" as="script"><link rel="prefetch" href="/assets/英语单词.html-3f856c95.js" as="script"><link rel="prefetch" href="/assets/docker基础知识.html-fb632a24.js" as="script"><link rel="prefetch" href="/assets/packageJson文件.html-4ca630f4.js" as="script"><link rel="prefetch" href="/assets/vite必懂知识.html-e3cfeea3.js" as="script"><link rel="prefetch" href="/assets/Vite插件开发.html-6ca93604.js" as="script"><link rel="prefetch" href="/assets/webpack必懂知识.html-2f0ae04b.js" as="script"><link rel="prefetch" href="/assets/webpack搭建Vue3ts.html-8dc59016.js" as="script"><link rel="prefetch" href="/assets/包管理器的相关知识.html-75a8892b.js" as="script"><link rel="prefetch" href="/assets/单元测试.html-6cfe1a26.js" as="script"><link rel="prefetch" href="/assets/小程序架构.html-72517770.js" as="script"><link rel="prefetch" href="/assets/微前端.html-17d33c10.js" as="script"><link rel="prefetch" href="/assets/项目初始化.html-6c0804df.js" as="script"><link rel="prefetch" href="/assets/Git基础.html-ed5a50f2.js" as="script"><link rel="prefetch" href="/assets/js进阶.html-db1f9c6b.js" as="script"><link rel="prefetch" href="/assets/必会APIs.html-dadd5da3.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-5b83a3c0.js" as="script"><link rel="prefetch" href="/assets/linux常用指令.html-e3f8f576.js" as="script"><link rel="prefetch" href="/assets/common_apis.html-7c104542.js" as="script"><link rel="prefetch" href="/assets/node基础知识.html-15d43448.js" as="script"><link rel="prefetch" href="/assets/pm2.html-d2a135e2.js" as="script"><link rel="prefetch" href="/assets/diff.html-b4bfdb21.js" as="script"><link rel="prefetch" href="/assets/fiber.html-dc1d157b.js" as="script"><link rel="prefetch" href="/assets/React状态管理.html-de630eea.js" as="script"><link rel="prefetch" href="/assets/基础.html-702bdd16.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-30d0e182.js" as="script"><link rel="prefetch" href="/assets/grammar.html-c24c1bfa.js" as="script"><link rel="prefetch" href="/assets/grammar.html-dfe8dc58.js" as="script"><link rel="prefetch" href="/assets/类型体操.html-51735172.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-1a8d4023.js" as="script"><link rel="prefetch" href="/assets/diff.html-b111924d.js" as="script"><link rel="prefetch" href="/assets/pinia.html-60f42df2.js" as="script"><link rel="prefetch" href="/assets/vue-loader初探.html-ff79b298.js" as="script"><link rel="prefetch" href="/assets/vue3.3版本.html-eaf88f1e.js" as="script"><link rel="prefetch" href="/assets/Vue3异步更新.html-9ebfd899.js" as="script"><link rel="prefetch" href="/assets/vueRouter.html-25454183.js" as="script"><link rel="prefetch" href="/assets/Vue内置组件.html-90796844.js" as="script"><link rel="prefetch" href="/assets/Vue生命周期.html-62ff3662.js" as="script"><link rel="prefetch" href="/assets/响应式原理.html-d7d9bfd0.js" as="script"><link rel="prefetch" href="/assets/编译原理.html-3fcebf33.js" as="script"><link rel="prefetch" href="/assets/好用的依赖工具包.html-f243434f.js" as="script"><link rel="prefetch" href="/assets/js实现效果.html-0a172eb5.js" as="script"><link rel="prefetch" href="/assets/Vuepress插件.html-f0ff1c19.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/contributing.html-c55e0bde.js" as="script"><link rel="prefetch" href="/assets/index.html-b809455c.js" as="script"><link rel="prefetch" href="/assets/index.html-587532a0.js" as="script"><link rel="prefetch" href="/assets/index.html-19169999.js" as="script"><link rel="prefetch" href="/assets/浏览器相关面经.html-64573b81.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-72c2f0e6.js" as="script"><link rel="prefetch" href="/assets/css面经.html-1d62152e.js" as="script"><link rel="prefetch" href="/assets/js面经.html-58ad7490.js" as="script"><link rel="prefetch" href="/assets/node面经.html-6af02d01.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-d0a983c6.js" as="script"><link rel="prefetch" href="/assets/Vue面经.html-86c26fde.js" as="script"><link rel="prefetch" href="/assets/CSS相关问题.html-8cc29a58.js" as="script"><link rel="prefetch" href="/assets/js中遇到的问题.html-98a0897b.js" as="script"><link rel="prefetch" href="/assets/埋点.html-0d46dc90.js" as="script"><link rel="prefetch" href="/assets/pm2.html-bdd2df87.js" as="script"><link rel="prefetch" href="/assets/项目中得到的问题.html-a7c61889.js" as="script"><link rel="prefetch" href="/assets/服务器.html-1b9c302a.js" as="script"><link rel="prefetch" href="/assets/算法.html-17dbc820.js" as="script"><link rel="prefetch" href="/assets/浏览器必备知识.html-61174f97.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-c2fa4011.js" as="script"><link rel="prefetch" href="/assets/你不知道的css.html-2be2b409.js" as="script"><link rel="prefetch" href="/assets/英语单词.html-d40ba4b9.js" as="script"><link rel="prefetch" href="/assets/docker基础知识.html-e8d9426b.js" as="script"><link rel="prefetch" href="/assets/packageJson文件.html-087de240.js" as="script"><link rel="prefetch" href="/assets/vite必懂知识.html-294281a3.js" as="script"><link rel="prefetch" href="/assets/Vite插件开发.html-1d82af7b.js" as="script"><link rel="prefetch" href="/assets/webpack必懂知识.html-c835aa03.js" as="script"><link rel="prefetch" href="/assets/webpack搭建Vue3ts.html-afd33470.js" as="script"><link rel="prefetch" href="/assets/包管理器的相关知识.html-180bc4c0.js" as="script"><link rel="prefetch" href="/assets/单元测试.html-ca5a0537.js" as="script"><link rel="prefetch" href="/assets/小程序架构.html-270f6659.js" as="script"><link rel="prefetch" href="/assets/微前端.html-2d749ba5.js" as="script"><link rel="prefetch" href="/assets/项目初始化.html-792739c7.js" as="script"><link rel="prefetch" href="/assets/Git基础.html-bc062b67.js" as="script"><link rel="prefetch" href="/assets/js进阶.html-4dbeaf66.js" as="script"><link rel="prefetch" href="/assets/必会APIs.html-571a7e82.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-dccfee5b.js" as="script"><link rel="prefetch" href="/assets/linux常用指令.html-e6524296.js" as="script"><link rel="prefetch" href="/assets/common_apis.html-b75cb8c4.js" as="script"><link rel="prefetch" href="/assets/node基础知识.html-b5963d10.js" as="script"><link rel="prefetch" href="/assets/pm2.html-a8a9c432.js" as="script"><link rel="prefetch" href="/assets/diff.html-74d9e8f2.js" as="script"><link rel="prefetch" href="/assets/fiber.html-2dcae9b7.js" as="script"><link rel="prefetch" href="/assets/React状态管理.html-6b55035d.js" as="script"><link rel="prefetch" href="/assets/基础.html-a7bf4161.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-3cf714c3.js" as="script"><link rel="prefetch" href="/assets/grammar.html-53a87cb9.js" as="script"><link rel="prefetch" href="/assets/grammar.html-566b502b.js" as="script"><link rel="prefetch" href="/assets/类型体操.html-bea747cf.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-ebf07415.js" as="script"><link rel="prefetch" href="/assets/diff.html-af60d978.js" as="script"><link rel="prefetch" href="/assets/pinia.html-1cd0bdc9.js" as="script"><link rel="prefetch" href="/assets/vue-loader初探.html-41e4d636.js" as="script"><link rel="prefetch" href="/assets/vue3.3版本.html-bd9b2dc1.js" as="script"><link rel="prefetch" href="/assets/Vue3异步更新.html-950fadab.js" as="script"><link rel="prefetch" href="/assets/vueRouter.html-c90ea306.js" as="script"><link rel="prefetch" href="/assets/Vue内置组件.html-b9233aba.js" as="script"><link rel="prefetch" href="/assets/Vue生命周期.html-e8a7ec53.js" as="script"><link rel="prefetch" href="/assets/响应式原理.html-aed14e50.js" as="script"><link rel="prefetch" href="/assets/编译原理.html-6d1b8582.js" as="script"><link rel="prefetch" href="/assets/好用的依赖工具包.html-b80487be.js" as="script"><link rel="prefetch" href="/assets/js实现效果.html-ce4fc756.js" as="script"><link rel="prefetch" href="/assets/Vuepress插件.html-eedd8fc8.js" as="script"><link rel="prefetch" href="/assets/404.html-87d54bd8.js" as="script"><link rel="prefetch" href="/assets/giscus-f311b0ba.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="fancy——Blog"><span class="site-name can-hide">fancy——Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Notes/React/基础.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Vue/编译原理.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Sass/grammar.md" class="" aria-label="Sass"><!--[--><!--]--> Sass <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/TypeScript/类型体操.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/JavaScript/设计模式.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Docker/docker基础知识.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Linux/linux常用指令.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Css/你不知道的css.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Canvas/canvas基础.md" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/FrontEndEngineering/项目初始化.md" class="" aria-label="FrontEndEngineering"><!--[--><!--]--> FrontEndEngineering <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Optimize/性能优化.md" class="" aria-label="Optimize"><!--[--><!--]--> Optimize <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/English/英语单词.md" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Git/Git基础.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Browser/浏览器必备知识.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Algorithms/算法.md" class="" aria-label="Algorithms"><!--[--><!--]--> Algorithms <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Server/Nginx.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Problems/Server/服务器.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/JavaScript/埋点.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Project/项目中得到的问题.md" class="" aria-label="Project"><!--[--><!--]--> Project <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Css/CSS相关问题.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview/Node/node面经.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/ComputerNetwork/计算机网络.md" class="" aria-label="ComputerNetwork"><!--[--><!--]--> ComputerNetwork <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/JavaScript/js面经.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Css/css面经.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Vue/Vue面经.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Browser/浏览器相关面经.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/OS/操作系统.md" class="" aria-label="OS"><!--[--><!--]--> OS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Utils/Vuepress/Vuepress插件.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/NodeDependency/好用的依赖工具包.md" class="" aria-label="NodeDependency"><!--[--><!--]--> NodeDependency <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/SpecialEffects/js实现效果.md" class="" aria-label="SpecialEffects"><!--[--><!--]--> SpecialEffects <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/YuHaH1" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/m0_47195133?type=blog" rel="noopener noreferrer" target="_blank" aria-label="CSDN"><!--[--><!--]--> CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索关键词" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Notes/React/基础.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Vue/编译原理.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Sass/grammar.md" class="" aria-label="Sass"><!--[--><!--]--> Sass <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/TypeScript/类型体操.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/JavaScript/设计模式.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Docker/docker基础知识.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Linux/linux常用指令.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Css/你不知道的css.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Canvas/canvas基础.md" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/FrontEndEngineering/项目初始化.md" class="" aria-label="FrontEndEngineering"><!--[--><!--]--> FrontEndEngineering <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Optimize/性能优化.md" class="" aria-label="Optimize"><!--[--><!--]--> Optimize <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/English/英语单词.md" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Git/Git基础.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Browser/浏览器必备知识.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Algorithms/算法.md" class="" aria-label="Algorithms"><!--[--><!--]--> Algorithms <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Server/Nginx.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Problems/Server/服务器.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/JavaScript/埋点.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Project/项目中得到的问题.md" class="" aria-label="Project"><!--[--><!--]--> Project <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Css/CSS相关问题.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview/Node/node面经.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/ComputerNetwork/计算机网络.md" class="" aria-label="ComputerNetwork"><!--[--><!--]--> ComputerNetwork <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/JavaScript/js面经.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Css/css面经.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Vue/Vue面经.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Browser/浏览器相关面经.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/OS/操作系统.md" class="" aria-label="OS"><!--[--><!--]--> OS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Utils/Vuepress/Vuepress插件.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/NodeDependency/好用的依赖工具包.md" class="" aria-label="NodeDependency"><!--[--><!--]--> NodeDependency <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/SpecialEffects/js实现效果.md" class="" aria-label="SpecialEffects"><!--[--><!--]--> SpecialEffects <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/YuHaH1" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/m0_47195133?type=blog" rel="noopener noreferrer" target="_blank" aria-label="CSDN"><!--[--><!--]--> CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">FrontEndEngineering <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Notes/FrontEndEngineering/webpack%E6%90%AD%E5%BB%BAVue3ts.html" class="sidebar-item" aria-label="Webpack搭建Vue3ts"><!--[--><!--]--> Webpack搭建Vue3ts <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/vite%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86.html" class="sidebar-item" aria-label="vite必懂知识"><!--[--><!--]--> vite必懂知识 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/webpack%E5%BF%85%E6%87%82%E7%9F%A5%E8%AF%86.html" class="sidebar-item" aria-label="webpack必懂知识"><!--[--><!--]--> webpack必懂知识 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/Vite%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html" class="sidebar-item" aria-label="Vite插件开发"><!--[--><!--]--> Vite插件开发 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/packageJson%E6%96%87%E4%BB%B6.html" class="sidebar-item" aria-label="packageJson文件"><!--[--><!--]--> packageJson文件 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86.html" class="sidebar-item" aria-label="包管理器的相关知识"><!--[--><!--]--> 包管理器的相关知识 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/%E5%BE%AE%E5%89%8D%E7%AB%AF.html" class="sidebar-item" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9E%B6%E6%9E%84.html" class="sidebar-item" aria-label="小程序架构"><!--[--><!--]--> 小程序架构 <!--[--><!--]--></a><!----></li><li><a href="/Notes/FrontEndEngineering/%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html" class="sidebar-item" aria-label="项目初始化"><!--[--><!--]--> 项目初始化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="rollup"><!--[--><!--]--> rollup <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#_1-安装rollup" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.安装Rollup"><!--[--><!--]--> 1.安装Rollup <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#_2-rollup命令行打包" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.Rollup命令行打包"><!--[--><!--]--> 2.Rollup命令行打包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#_3-rollup集成typescript" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.Rollup集成typescript"><!--[--><!--]--> 3.Rollup集成typescript <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#_4-常用配置选项" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.常用配置选项"><!--[--><!--]--> 4.常用配置选项 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#external" class="router-link-active router-link-exact-active sidebar-item" aria-label="external"><!--[--><!--]--> external <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#input" class="router-link-active router-link-exact-active sidebar-item" aria-label="input"><!--[--><!--]--> input <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#output" class="router-link-active router-link-exact-active sidebar-item" aria-label="output"><!--[--><!--]--> output <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#cahe" class="router-link-active router-link-exact-active sidebar-item" aria-label="cahe"><!--[--><!--]--> cahe <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#_5-插件开发" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.插件开发"><!--[--><!--]--> 5.插件开发 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Notes/FrontEndEngineering/rollup.html#一些常用声明周期钩子" class="router-link-active router-link-exact-active sidebar-item" aria-label="一些常用声明周期钩子"><!--[--><!--]--> 一些常用声明周期钩子 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/Notes/FrontEndEngineering/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html" class="sidebar-item" aria-label="单元测试"><!--[--><!--]--> 单元测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="rollup" tabindex="-1"><a class="header-anchor" href="#rollup" aria-hidden="true">#</a> rollup</h1><p><a href="https://cn.rollupjs.org/introduction/" target="_blank" rel="noopener noreferrer">Rollup官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_1-安装rollup" tabindex="-1"><a class="header-anchor" href="#_1-安装rollup" aria-hidden="true">#</a> 1.安装Rollup</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> rollup <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-rollup命令行打包" tabindex="-1"><a class="header-anchor" href="#_2-rollup命令行打包" aria-hidden="true">#</a> 2.Rollup命令行打包</h2><p>编译成立即执行函数</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 编译为包含自执行函数（&#39;iife&#39;）的 &lt;script&gt;。</span>
rollup main.js <span class="token parameter variable">--file</span> bundle.js <span class="token parameter variable">--format</span> iife
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>打包成cjs （将main.js以commenjs规范打包成bundle.js）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 编译为一个 CommonJS 模块 (&#39;cjs&#39;)</span>
rollup main.js <span class="token parameter variable">--file</span> bundle.js <span class="token parameter variable">--format</span> cjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器和Node（将main.js以umd格式打包到bundle.js并声明全局变量名myBundle）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># UMD 格式需要一个包名</span>
rollup main.js <span class="token parameter variable">--file</span> bundle.js <span class="token parameter variable">--format</span> umd <span class="token parameter variable">--name</span> <span class="token string">&quot;myBundle&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><code>-c</code>-&gt; <code>--config</code>后面跟配置文件路径</li><li><code>-o</code>-&gt;<code>--file</code>输出的文件名</li><li><code>--dir</code>当使用代码分割功能实现惰性动态加载（其中某些导入的模块仅在执行函数后加载）Rollup 将使用动态导入创建一个仅在需要时加载的单独块。为了让 Rollup 知道在哪里放置第二个<code>chunk</code>此时使用</li><li><code>-e</code>-&gt;<code>--external</code>排除需要被bundle的模块</li></ol><h2 id="_3-rollup集成typescript" tabindex="-1"><a class="header-anchor" href="#_3-rollup集成typescript" aria-hidden="true">#</a> 3.Rollup集成typescript</h2><p><code>Rollup</code>可以使用其他语言编写配置文件，比如 TypeScript。为此，安装相应的 Rollup 插件，例如 <code>@rollup/plugin-typescript</code>，并使用 <a href="https://cn.rollupjs.org/command-line-interface/#configplugin-plugin" target="_blank" rel="noopener noreferrer"><code>--configPlugin</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 选项：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>rollup <span class="token parameter variable">--config</span> rollup.config.ts <span class="token parameter variable">--configPlugin</span> typescript
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_4-常用配置选项" tabindex="-1"><a class="header-anchor" href="#_4-常用配置选项" aria-hidden="true">#</a> 4.常用配置选项</h2><h3 id="external" tabindex="-1"><a class="header-anchor" href="#external" aria-hidden="true">#</a> external</h3><p>用于指定不需要打包成bundle的模块</p><ol><li><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>	<span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&#39;some-externally-required-library&#39;</span><span class="token punctuation">,</span>
		<span class="token function">fileURLToPath</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>
				<span class="token string">&#39;src/some-local-file-that-should-not-be-bundled.js&#39;</span><span class="token punctuation">,</span>
				<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url
			<span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
	<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="input" tabindex="-1"><a class="header-anchor" href="#input" aria-hidden="true">#</a> input</h3><p>指定 bundle 的入口文件。如果值为一个入口文件的数组或一个将名称映射到入口文件的对象，那么它们将被打包到单独的输出 chunks。除非使用 <a href="https://cn.rollupjs.org/configuration-options/#output-file" target="_blank" rel="noopener noreferrer"><code>output.file</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 选项，否则生成的 chunk 名称将遵循 <a href="https://cn.rollupjs.org/configuration-options/#output-entryfilenames" target="_blank" rel="noopener noreferrer"><code>output.entryFileNames</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 选项设置。</p><p>当选项的值使用对象形式时，可以通过在名称中添加 <code>/</code> 来将入口文件放入不同的子文件夹。以下例子将根据 <code>entry-a.js</code> 和 <code>entry-b/index.js</code>，产生至少两个入口 chunks，即 <code>index.js</code>文件将输出在 <code>entry-b</code> 文件夹中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&#39;src/main-a.js&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;b/index&#39;</span><span class="token operator">:</span> <span class="token string">&#39;src/main-b.js&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entryFileNames</span><span class="token operator">:</span> <span class="token string">&#39;entry-[name].js&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="output" tabindex="-1"><a class="header-anchor" href="#output" aria-hidden="true">#</a> output</h3><h4 id="dir和file" tabindex="-1"><a class="header-anchor" href="#dir和file" aria-hidden="true">#</a> dir和file</h4><p>该选项用于指定所有生成的 chunk 被放置在哪个目录中。如果生成一个以上的 chunk，那么这个选项是必需的。否则，可以使用 <code>file</code> 选项来代替。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">dir</span><span class="token operator">:</span><span class="token string">&#39;bundle.js&#39;</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
也可以用file替代
<span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">file</span><span class="token operator">:</span><span class="token string">&#39;dist/bundle.js&#39;</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="format" tabindex="-1"><a class="header-anchor" href="#format" aria-hidden="true">#</a> format</h4><p>该选项用于指定生成的 bundle 的格式。满足以下其中之一：</p><ul><li><code>amd</code> – 异步模块加载，适用于 RequireJS 等模块加载器</li><li><code>cjs</code> – CommonJS，适用于 Node 环境和其他打包工具（别名：<code>commonjs</code>）</li><li><code>es</code> – 将 bundle 保留为 ES 模块文件，适用于其他打包工具，以及支持 <code>&lt;script type=module&gt;</code> 标签的浏览器。（别名：<code>esm</code>，<code>module</code>）</li><li><code>iife</code> – 自执行函数，适用于 <code>&lt;script&gt;</code> 标签（如果你想为你的应用程序创建 bundle，那么你可能会使用它）。</li><li><code>umd</code> – 通用模块定义规范，同时支持 <code>amd</code>，<code>cjs</code> 和 <code>iife</code></li><li><code>system</code> – SystemJS 模块加载器的原生格式（别名：<code>systemjs</code>）</li></ul><h4 id="generatedcode" tabindex="-1"><a class="header-anchor" href="#generatedcode" aria-hidden="true">#</a> generatedCode</h4><p>代码降级</p><ul><li><code>&quot;es5&quot;</code>：不能使用 ES2015+ 的特性，比如箭头函数，不能使用引号包裹的预留词汇作为属性名。</li><li><code>&quot;es2015&quot;</code>：使用任意 ES2015 之前的 JavaScript 特性。</li></ul><p><code>output.generatedCode.arrowFunctions</code></p><table><thead><tr><th style="text-align:right;">类型：</th><th><code>boolean</code></th></tr></thead><tbody><tr><td style="text-align:right;">CLI：</td><td><code>--generatedCode.arrowFunctions</code>/<code>--no-generatedCode.arrowFunctions</code></td></tr><tr><td style="text-align:right;">默认：</td><td><code>false</code></td></tr></tbody></table><p>该选项表示是否为自动生成的代码片段使用箭头函数。请注意，在某些地方，比如模块封装器，Rollup 会继续生成用小括号封装的常规函数，因为在一些 JavaScript 引擎中，这些函数会提供 <a href="https://v8.dev/blog/preparser#pife" target="_blank" rel="noopener noreferrer">明显更好的性能<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>小括号封装的常规函数为什么能获得更好的性能？</p><p>通过急切解析和编译 立即执行函数，V8 引擎可以更早地得知哪些函数在启动过程中是需要的，从而避免了不必要的预解析。但是也会带来一定的内存开销。</p></div><p><code>output.generatedCode.constBindings</code> 将var替换成const</p><table><thead><tr><th style="text-align:right;">类型：</th><th><code>boolean</code></th></tr></thead><tbody><tr><td style="text-align:right;">CLI：</td><td><code>--generatedCode.constBindings</code>/<code>--no-generatedCode.constBindings</code></td></tr><tr><td style="text-align:right;">默认：</td><td><code>false</code></td></tr></tbody></table><h4 id="minifyinternalexports" tabindex="-1"><a class="header-anchor" href="#minifyinternalexports" aria-hidden="true">#</a> minifyInternalExports</h4><table><thead><tr><th style="text-align:right;">类型：</th><th><code>boolean</code></th></tr></thead><tbody><tr><td style="text-align:right;">CLI：</td><td><code>--minifyInternalExports</code>/<code>--no-minifyInternalExports</code></td></tr><tr><td style="text-align:right;">默认：</td><td>在 <code>es</code>、<code>system</code> 格式下或者 <code>output.compact</code> 值为 <code>true</code> 的情况下值为 <code>true</code>，否则为 <code>false</code></td></tr></tbody></table><p>默认情况下，在 <code>es</code>、<code>system</code> 格式下或者 <code>output.compact</code> 值为 <code>true</code> 的情况下该选项值为 <code>true</code>，这意味着 Rollup 会尝试把内部变量导出为单个字母的变量，以便更好地压缩代码。</p><h4 id="sourcemapfile" tabindex="-1"><a class="header-anchor" href="#sourcemapfile" aria-hidden="true">#</a> SourcemapFile</h4><table><thead><tr><th style="text-align:right;">类型：</th><th><code>string</code></th></tr></thead><tbody><tr><td style="text-align:right;">CLI：</td><td><code>--sourcemapFile &lt;file-name-with-path&gt;</code></td></tr></tbody></table><p>该选项用于指定生成 sourcemap 文件的位置。如果是一个绝对路径，那么 sourcemap 文件中的所有 <code>sources</code> 文件路径都相对于该路径。<code>map.file</code> 属性是 <code>sourcemapFile</code> 的基本名称，因为 sourcemap 文件一般是和其构建后的 bundle 处于同一目录。</p><p>如果 <code>output</code> 设置了值，那么 <code>sourcemapFile</code> 不是必须的，这种情况下，它的值会通过输出文件名中添加“.map”推断出来。</p><h3 id="cahe" tabindex="-1"><a class="header-anchor" href="#cahe" aria-hidden="true">#</a> cahe</h3><p>使用该设置，Rollup 将只会对改变的模块重新分析，从而加速观察模式中后续的构建。</p><h2 id="_5-插件开发" tabindex="-1"><a class="header-anchor" href="#_5-插件开发" aria-hidden="true">#</a> 5.插件开发</h2><p>固定格式</p><ul><li>插件应该有一个明确的名称，并以<code>rollup-plugin-</code>作为前缀。</li><li>在<code>package.json</code>中包含<code>rollup-plugin</code>关键字。</li><li>插件应该被测试，我们推荐 <a href="https://github.com/mochajs/mocha" target="_blank" rel="noopener noreferrer">mocha<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 或 <a href="https://github.com/avajs/ava" target="_blank" rel="noopener noreferrer">ava<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，它们支持 Promise。</li><li>可能的话，使用异步方法，例如 <code>fs.readFile</code> 而不是 <code>fs.readFileSync</code></li><li>用英文文档描述你的插件。</li><li>确保如果适当，你的插件输出正确的源映射。</li><li>如果插件使用“虚拟模块”（例如用于辅助函数），请使用<code>\0</code>前缀模块 ID。这可以防止其他插件尝试处理它。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">myPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;my-plugin&#39;</span><span class="token punctuation">,</span><span class="token comment">//插件的名称将在警告和错误中出现</span>
        <span class="token function">resolveId</span> <span class="token punctuation">(</span> <span class="token parameter">source</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>source <span class="token operator">===</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这表示 rollup 不应询问其他插件或</span>
        <span class="token comment">// 从文件系统检查以找到此 ID</span>
        <span class="token keyword">return</span> source<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 其他ID应按通常方式处理</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">load</span> <span class="token punctuation">(</span> <span class="token parameter">id</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">===</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &quot;virtual-module&quot;的源代码</span>
        <span class="token keyword">return</span> <span class="token string">&#39;export default &quot;This is virtual!&quot;&#39;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 其他ID应按通常方式处理</span>
    <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> myPlugin <span class="token keyword">from</span> <span class="token string">&#39;./rollup-plugin-my-example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 由我们的插件解析</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">myPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="一些常用声明周期钩子" tabindex="-1"><a class="header-anchor" href="#一些常用声明周期钩子" aria-hidden="true">#</a> 一些常用声明周期钩子</h3><p>buildEnd钩子</p><table><thead><tr><th style="text-align:right;">类型：</th><th><code>(error?: Error) =&gt; void</code></th></tr></thead><tbody><tr><td style="text-align:right;">类别：</td><td>async, parallel</td></tr><tr><td style="text-align:right;">上一个钩子：</td><td><a href="https://cn.rollupjs.org/plugin-development/#moduleparsed" target="_blank" rel="noopener noreferrer"><code>moduleParsed</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://cn.rollupjs.org/plugin-development/#resolveid" target="_blank" rel="noopener noreferrer"><code>resolveId</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 或 <a href="https://cn.rollupjs.org/plugin-development/#resolvedynamicimport" target="_blank" rel="noopener noreferrer"><code>resolveDynamicImport</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td style="text-align:right;">下一个钩子：</td><td>输出生成阶段的 <a href="https://cn.rollupjs.org/plugin-development/#outputoptions" target="_blank" rel="noopener noreferrer"><code>outputOptions</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，因为这是构建阶段的最后一个钩子</td></tr></tbody></table><p>在 Rollup 完成产物但尚未调用 <code>generate</code> 或 <code>write</code> 之前调用；也可以返回一个 Promise。如果在构建过程中发生错误，则将其传递给此钩子。</p><p><a href="https://cn.rollupjs.org/plugin-development/#buildstart" target="_blank" rel="noopener noreferrer">buildStart<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>这个钩子使用在获取用户选项</p><table><thead><tr><th style="text-align:right;">类型：</th><th><code>(options: InputOptions) =&gt; void</code></th></tr></thead><tbody><tr><td style="text-align:right;">类别：</td><td>async, parallel</td></tr><tr><td style="text-align:right;">上一个钩子：</td><td><a href="https://cn.rollupjs.org/plugin-development/#options" target="_blank" rel="noopener noreferrer"><code>options</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td style="text-align:right;">下一个钩子：</td><td>并行解析每个入口点的 <a href="https://cn.rollupjs.org/plugin-development/#resolveid" target="_blank" rel="noopener noreferrer"><code>resolveId</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><p>在每个 <code>rollup.rollup</code> 构建上调用。当你需要访问传递给 <code>rollup.rollup()</code> 的选项时，建议使用此钩子，因为它考虑了所有 <a href="https://cn.rollupjs.org/plugin-development/#options" target="_blank" rel="noopener noreferrer"><code>options</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 钩子的转换，并且还包含未设置选项的正确默认值。</p><p>transform</p><table><thead><tr><th style="text-align:right;">类型:</th><th><code>(code: string, id: string) =&gt; TransformResult</code></th></tr></thead><tbody><tr><td style="text-align:right;">类别:</td><td>async, sequential</td></tr><tr><td style="text-align:right;">上一个钩子:</td><td><a href="https://cn.rollupjs.org/plugin-development/#load" target="_blank" rel="noopener noreferrer"><code>load</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，用于加载当前处理的文件。如果使用缓存并且该模块有一个缓存副本，则为 <a href="https://cn.rollupjs.org/plugin-development/#shouldtransformcachedmodule" target="_blank" rel="noopener noreferrer"><code>shouldTransformCachedModule</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，如果插件为该钩子返回了 <code>true</code></td></tr><tr><td style="text-align:right;">下一个钩子:</td><td><a href="https://cn.rollupjs.org/plugin-development/#moduleparsed" target="_blank" rel="noopener noreferrer"><code>moduleParsed</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，一旦文件已被处理和解析</td></tr></tbody></table><p>可用于转换单个模块。为了避免额外的解析开销，例如此钩子已经使用 <code>this.parse</code> 生成了 AST，此钩子可以选择性地返回一个 <code>{ code, ast, map }</code> 对象。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>在观察模式下或明确使用缓存时，当重新构建时，此钩子的结果会被缓存，仅当模块的 <code>code</code> 发生更改或上次触发此钩子时添加了通过 <code>this.addWatchFile</code> 添加的文件时，才会再次触发该模块的钩子。</p></div><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Notes/FrontEndEngineering/%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html" class="" aria-label="项目初始化"><!--[--><!--]--> 项目初始化 <!--[--><!--]--></a></span><span class="next"><a href="/Notes/FrontEndEngineering/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html" class="" aria-label="单元测试"><!--[--><!--]--> 单元测试 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-392a8034.js" defer></script>
  </body>
</html>
