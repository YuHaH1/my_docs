<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/hero.jpg"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css"><title>Vue面经 | fancy——Blog</title><meta name="description" content="关键功能">
    <link rel="preload" href="/assets/style-e95b4f07.css" as="style"><link rel="stylesheet" href="/assets/style-e95b4f07.css">
    <link rel="modulepreload" href="/assets/app-c7df0862.js"><link rel="modulepreload" href="/assets/framework-f7ec573f.js"><link rel="modulepreload" href="/assets/Vue面经.html-8d38bd0a.js"><link rel="modulepreload" href="/assets/Vue面经.html-4d3849d4.js"><link rel="prefetch" href="/assets/contributing.html-22a7bdc8.js" as="script"><link rel="prefetch" href="/assets/index.html-c2be8bda.js" as="script"><link rel="prefetch" href="/assets/index.html-72dd86c0.js" as="script"><link rel="prefetch" href="/assets/index.html-a998ae2b.js" as="script"><link rel="prefetch" href="/assets/浏览器相关面经.html-9a1ff354.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-5930550e.js" as="script"><link rel="prefetch" href="/assets/css面经.html-977a937e.js" as="script"><link rel="prefetch" href="/assets/js面经.html-8d08ffc7.js" as="script"><link rel="prefetch" href="/assets/index.html-828920e8.js" as="script"><link rel="prefetch" href="/assets/node面经.html-500ff87e.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-bab6be77.js" as="script"><link rel="prefetch" href="/assets/数据结构.html-91020950.js" as="script"><link rel="prefetch" href="/assets/算法.html-e3ca3661.js" as="script"><link rel="prefetch" href="/assets/浏览器必备知识.html-a8382f01.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-d0b84296.js" as="script"><link rel="prefetch" href="/assets/你不知道的css.html-cb9e9d5d.js" as="script"><link rel="prefetch" href="/assets/docker基础知识.html-16370c91.js" as="script"><link rel="prefetch" href="/assets/英语单词.html-090651ce.js" as="script"><link rel="prefetch" href="/assets/babel.html-19e2ed0b.js" as="script"><link rel="prefetch" href="/assets/CI-CD.html-d4bb7d4e.js" as="script"><link rel="prefetch" href="/assets/flutter.html-9e25da6b.js" as="script"><link rel="prefetch" href="/assets/packageJson文件.html-08bdbad3.js" as="script"><link rel="prefetch" href="/assets/rollup.html-6094f99b.js" as="script"><link rel="prefetch" href="/assets/vite必懂知识.html-7de72106.js" as="script"><link rel="prefetch" href="/assets/Vite插件开发.html-ae5424c3.js" as="script"><link rel="prefetch" href="/assets/webpack必懂知识.html-4b539380.js" as="script"><link rel="prefetch" href="/assets/webpack搭建Vue3ts.html-d2a66d1d.js" as="script"><link rel="prefetch" href="/assets/包管理器的相关知识.html-ef770eca.js" as="script"><link rel="prefetch" href="/assets/单元测试.html-9919e738.js" as="script"><link rel="prefetch" href="/assets/微前端.html-74ecc39b.js" as="script"><link rel="prefetch" href="/assets/跨端开发.html-355087f6.js" as="script"><link rel="prefetch" href="/assets/项目搭建.html-6093d32c.js" as="script"><link rel="prefetch" href="/assets/鸿蒙.html-bd210189.js" as="script"><link rel="prefetch" href="/assets/Git基础.html-a2980c8c.js" as="script"><link rel="prefetch" href="/assets/js进阶.html-02991cb5.js" as="script"><link rel="prefetch" href="/assets/必会APIs.html-12db5bc6.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-67082624.js" as="script"><link rel="prefetch" href="/assets/linux常用指令.html-96826953.js" as="script"><link rel="prefetch" href="/assets/shell脚本.html-fd88221f.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-10a8de50.js" as="script"><link rel="prefetch" href="/assets/diff.html-83aa66ca.js" as="script"><link rel="prefetch" href="/assets/fiber.html-613e6ec6.js" as="script"><link rel="prefetch" href="/assets/React状态管理.html-97ced59e.js" as="script"><link rel="prefetch" href="/assets/基础.html-7756477b.js" as="script"><link rel="prefetch" href="/assets/正则表达式.html-2064539b.js" as="script"><link rel="prefetch" href="/assets/grammar.html-b372dc3f.js" as="script"><link rel="prefetch" href="/assets/grammar.html-2bb01fd8.js" as="script"><link rel="prefetch" href="/assets/类型体操.html-675b2cd0.js" as="script"><link rel="prefetch" href="/assets/common_apis.html-35b2f21b.js" as="script"><link rel="prefetch" href="/assets/golang.html-46083e67.js" as="script"><link rel="prefetch" href="/assets/Nest.html-fac97f9d.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-35a949b3.js" as="script"><link rel="prefetch" href="/assets/node基础知识.html-e3ec3758.js" as="script"><link rel="prefetch" href="/assets/pm2.html-494b398a.js" as="script"><link rel="prefetch" href="/assets/sequelize.html-0604cb37.js" as="script"><link rel="prefetch" href="/assets/diff.html-3075f372.js" as="script"><link rel="prefetch" href="/assets/Nuxt.html-aa66f85c.js" as="script"><link rel="prefetch" href="/assets/pinia.html-b31a0287.js" as="script"><link rel="prefetch" href="/assets/vue-loader初探.html-ae80b7ef.js" as="script"><link rel="prefetch" href="/assets/Vue3.html-d9d52379.js" as="script"><link rel="prefetch" href="/assets/Vue3异步更新.html-1e3796ce.js" as="script"><link rel="prefetch" href="/assets/vueRouter.html-46771925.js" as="script"><link rel="prefetch" href="/assets/Vue内置组件.html-7e6d676a.js" as="script"><link rel="prefetch" href="/assets/vue版本迭代.html-ece47a24.js" as="script"><link rel="prefetch" href="/assets/Vue生命周期.html-1fa0e50e.js" as="script"><link rel="prefetch" href="/assets/响应式原理.html-f8124466.js" as="script"><link rel="prefetch" href="/assets/编译原理.html-751f2cfa.js" as="script"><link rel="prefetch" href="/assets/Web3.html-54d84db7.js" as="script"><link rel="prefetch" href="/assets/CSS相关问题.html-b42a70f0.js" as="script"><link rel="prefetch" href="/assets/js中遇到的问题.html-c5442ecb.js" as="script"><link rel="prefetch" href="/assets/埋点.html-3718ab8c.js" as="script"><link rel="prefetch" href="/assets/pm2.html-8a67efcb.js" as="script"><link rel="prefetch" href="/assets/项目中得到的问题.html-000cf576.js" as="script"><link rel="prefetch" href="/assets/服务器.html-c5c1c988.js" as="script"><link rel="prefetch" href="/assets/好用的依赖工具包.html-661c0d92.js" as="script"><link rel="prefetch" href="/assets/js实现效果.html-fff25bd3.js" as="script"><link rel="prefetch" href="/assets/Vuepress插件.html-7a5afd36.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/contributing.html-ba442e82.js" as="script"><link rel="prefetch" href="/assets/index.html-7d0386cd.js" as="script"><link rel="prefetch" href="/assets/index.html-94d0b65c.js" as="script"><link rel="prefetch" href="/assets/index.html-11b99220.js" as="script"><link rel="prefetch" href="/assets/浏览器相关面经.html-f355221a.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-0e849dba.js" as="script"><link rel="prefetch" href="/assets/css面经.html-5d44c013.js" as="script"><link rel="prefetch" href="/assets/js面经.html-2aa88e22.js" as="script"><link rel="prefetch" href="/assets/index.html-81702ac2.js" as="script"><link rel="prefetch" href="/assets/node面经.html-2a33d7d0.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-f40b8e31.js" as="script"><link rel="prefetch" href="/assets/数据结构.html-f251afa0.js" as="script"><link rel="prefetch" href="/assets/算法.html-f3d711e4.js" as="script"><link rel="prefetch" href="/assets/浏览器必备知识.html-bbf0e235.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-52f92012.js" as="script"><link rel="prefetch" href="/assets/你不知道的css.html-715db008.js" as="script"><link rel="prefetch" href="/assets/docker基础知识.html-477bccf8.js" as="script"><link rel="prefetch" href="/assets/英语单词.html-4f77de78.js" as="script"><link rel="prefetch" href="/assets/babel.html-16942d82.js" as="script"><link rel="prefetch" href="/assets/CI-CD.html-555b4dcc.js" as="script"><link rel="prefetch" href="/assets/flutter.html-529b73bb.js" as="script"><link rel="prefetch" href="/assets/packageJson文件.html-11d15d06.js" as="script"><link rel="prefetch" href="/assets/rollup.html-a595b44b.js" as="script"><link rel="prefetch" href="/assets/vite必懂知识.html-f97a5e28.js" as="script"><link rel="prefetch" href="/assets/Vite插件开发.html-ceb0ea8c.js" as="script"><link rel="prefetch" href="/assets/webpack必懂知识.html-d8c1bda9.js" as="script"><link rel="prefetch" href="/assets/webpack搭建Vue3ts.html-0fabafd1.js" as="script"><link rel="prefetch" href="/assets/包管理器的相关知识.html-08ffc5b8.js" as="script"><link rel="prefetch" href="/assets/单元测试.html-8a97cce2.js" as="script"><link rel="prefetch" href="/assets/微前端.html-ac517c52.js" as="script"><link rel="prefetch" href="/assets/跨端开发.html-45cb3ad1.js" as="script"><link rel="prefetch" href="/assets/项目搭建.html-a82748aa.js" as="script"><link rel="prefetch" href="/assets/鸿蒙.html-30d8534e.js" as="script"><link rel="prefetch" href="/assets/Git基础.html-b3f065a4.js" as="script"><link rel="prefetch" href="/assets/js进阶.html-d4319520.js" as="script"><link rel="prefetch" href="/assets/必会APIs.html-c731d2f3.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-f8a43ccb.js" as="script"><link rel="prefetch" href="/assets/linux常用指令.html-1d9da641.js" as="script"><link rel="prefetch" href="/assets/shell脚本.html-6aebb3f3.js" as="script"><link rel="prefetch" href="/assets/性能优化.html-9855fde0.js" as="script"><link rel="prefetch" href="/assets/diff.html-814f8aa1.js" as="script"><link rel="prefetch" href="/assets/fiber.html-ab68055a.js" as="script"><link rel="prefetch" href="/assets/React状态管理.html-bded037c.js" as="script"><link rel="prefetch" href="/assets/基础.html-808daa92.js" as="script"><link rel="prefetch" href="/assets/正则表达式.html-e756bf27.js" as="script"><link rel="prefetch" href="/assets/grammar.html-f9877cfd.js" as="script"><link rel="prefetch" href="/assets/grammar.html-92b707f6.js" as="script"><link rel="prefetch" href="/assets/类型体操.html-e68b486a.js" as="script"><link rel="prefetch" href="/assets/common_apis.html-c90cc702.js" as="script"><link rel="prefetch" href="/assets/golang.html-fea25c84.js" as="script"><link rel="prefetch" href="/assets/Nest.html-593360c9.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-f447a18b.js" as="script"><link rel="prefetch" href="/assets/node基础知识.html-8286d90a.js" as="script"><link rel="prefetch" href="/assets/pm2.html-c74b20bb.js" as="script"><link rel="prefetch" href="/assets/sequelize.html-9be1982f.js" as="script"><link rel="prefetch" href="/assets/diff.html-d5e8a104.js" as="script"><link rel="prefetch" href="/assets/Nuxt.html-ae58220b.js" as="script"><link rel="prefetch" href="/assets/pinia.html-1437c3e8.js" as="script"><link rel="prefetch" href="/assets/vue-loader初探.html-1cfc4d9f.js" as="script"><link rel="prefetch" href="/assets/Vue3.html-37a76944.js" as="script"><link rel="prefetch" href="/assets/Vue3异步更新.html-217f74b3.js" as="script"><link rel="prefetch" href="/assets/vueRouter.html-dbcb3ad0.js" as="script"><link rel="prefetch" href="/assets/Vue内置组件.html-27742815.js" as="script"><link rel="prefetch" href="/assets/vue版本迭代.html-f4446088.js" as="script"><link rel="prefetch" href="/assets/Vue生命周期.html-aba3d8c2.js" as="script"><link rel="prefetch" href="/assets/响应式原理.html-f4dedb3f.js" as="script"><link rel="prefetch" href="/assets/编译原理.html-03c81446.js" as="script"><link rel="prefetch" href="/assets/Web3.html-d628e486.js" as="script"><link rel="prefetch" href="/assets/CSS相关问题.html-06830154.js" as="script"><link rel="prefetch" href="/assets/js中遇到的问题.html-5e831821.js" as="script"><link rel="prefetch" href="/assets/埋点.html-1957d5c8.js" as="script"><link rel="prefetch" href="/assets/pm2.html-9f4e74cf.js" as="script"><link rel="prefetch" href="/assets/项目中得到的问题.html-6a5920a9.js" as="script"><link rel="prefetch" href="/assets/服务器.html-8f508db2.js" as="script"><link rel="prefetch" href="/assets/好用的依赖工具包.html-db7cc715.js" as="script"><link rel="prefetch" href="/assets/js实现效果.html-3dc39774.js" as="script"><link rel="prefetch" href="/assets/Vuepress插件.html-77268f44.js" as="script"><link rel="prefetch" href="/assets/404.html-b0ff3419.js" as="script"><link rel="prefetch" href="/assets/giscus-f311b0ba.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="fancy——Blog"><span class="site-name can-hide">fancy——Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Notes/React/基础.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Vue/编译原理.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Sass/grammar.md" class="" aria-label="Sass"><!--[--><!--]--> Sass <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/TypeScript/类型体操.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/JavaScript/设计模式.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Docker/docker基础知识.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Linux/shell脚本.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Css/你不知道的css.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Canvas/canvas基础.md" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/FrontEndEngineering/鸿蒙.md" class="" aria-label="FrontEndEngineering"><!--[--><!--]--> FrontEndEngineering <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Optimize/性能优化.md" class="" aria-label="Optimize"><!--[--><!--]--> Optimize <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/English/英语单词.md" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Git/Git基础.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Browser/浏览器必备知识.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Algorithms/算法.md" class="" aria-label="Algorithms"><!--[--><!--]--> Algorithms <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Server/sequelize.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Web3/Web3.md" class="" aria-label="Web3"><!--[--><!--]--> Web3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Reg/正则表达式.md" class="" aria-label="Reg"><!--[--><!--]--> Reg <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Problems/Server/服务器.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/JavaScript/埋点.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Project/项目中得到的问题.md" class="" aria-label="Project"><!--[--><!--]--> Project <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Css/CSS相关问题.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview/Node/node面经.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/ComputerNetwork/计算机网络.md" class="" aria-label="ComputerNetwork"><!--[--><!--]--> ComputerNetwork <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/JavaScript/README.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Css/css面经.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Vue/Vue面经.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Browser/浏览器相关面经.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/OS/操作系统.md" class="" aria-label="OS"><!--[--><!--]--> OS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Utils/Vuepress/Vuepress插件.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/NodeDependency/好用的依赖工具包.md" class="" aria-label="NodeDependency"><!--[--><!--]--> NodeDependency <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/SpecialEffects/js实现效果.md" class="" aria-label="SpecialEffects"><!--[--><!--]--> SpecialEffects <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/YuHaH1" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/m0_47195133?type=blog" rel="noopener noreferrer" target="_blank" aria-label="CSDN"><!--[--><!--]--> CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索关键词" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="笔记查询"><span class="title">笔记查询</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Notes/React/基础.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Vue/编译原理.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Sass/grammar.md" class="" aria-label="Sass"><!--[--><!--]--> Sass <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/TypeScript/类型体操.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/JavaScript/设计模式.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Docker/docker基础知识.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Linux/shell脚本.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Css/你不知道的css.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Canvas/canvas基础.md" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/FrontEndEngineering/鸿蒙.md" class="" aria-label="FrontEndEngineering"><!--[--><!--]--> FrontEndEngineering <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Optimize/性能优化.md" class="" aria-label="Optimize"><!--[--><!--]--> Optimize <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/English/英语单词.md" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Git/Git基础.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Browser/浏览器必备知识.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Algorithms/算法.md" class="" aria-label="Algorithms"><!--[--><!--]--> Algorithms <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Server/sequelize.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Web3/Web3.md" class="" aria-label="Web3"><!--[--><!--]--> Web3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Notes/Reg/正则表达式.md" class="" aria-label="Reg"><!--[--><!--]--> Reg <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="问题记录"><span class="title">问题记录</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Problems/Server/服务器.md" class="" aria-label="Server"><!--[--><!--]--> Server <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/JavaScript/埋点.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Project/项目中得到的问题.md" class="" aria-label="Project"><!--[--><!--]--> Project <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Node/pm2.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Problems/Css/CSS相关问题.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Interview/Node/node面经.md" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/ComputerNetwork/计算机网络.md" class="" aria-label="ComputerNetwork"><!--[--><!--]--> ComputerNetwork <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/JavaScript/README.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Css/css面经.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Vue/Vue面经.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/Browser/浏览器相关面经.md" class="" aria-label="Browser"><!--[--><!--]--> Browser <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Interview/OS/操作系统.md" class="" aria-label="OS"><!--[--><!--]--> OS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="不错的工具"><span class="title">不错的工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Utils/Vuepress/Vuepress插件.md" class="" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/NodeDependency/好用的依赖工具包.md" class="" aria-label="NodeDependency"><!--[--><!--]--> NodeDependency <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Utils/SpecialEffects/js实现效果.md" class="" aria-label="SpecialEffects"><!--[--><!--]--> SpecialEffects <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="个人信息"><span class="title">个人信息</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/YuHaH1" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://blog.csdn.net/m0_47195133?type=blog" rel="noopener noreferrer" target="_blank" aria-label="CSDN"><!--[--><!--]--> CSDN <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Vue <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Vue面经"><!--[--><!--]--> Vue面经 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#动态表单" class="router-link-active router-link-exact-active sidebar-item" aria-label="动态表单"><!--[--><!--]--> 动态表单 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#表单配置文件中" class="router-link-active router-link-exact-active sidebar-item" aria-label="表单配置文件中"><!--[--><!--]--> 表单配置文件中 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#在dyform-ts中" class="router-link-active router-link-exact-active sidebar-item" aria-label="在DyForm.ts中"><!--[--><!--]--> 在DyForm.ts中 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#使用的时候" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用的时候"><!--[--><!--]--> 使用的时候 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#vue2和vue3区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue2和vue3区别"><!--[--><!--]--> Vue2和vue3区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#同构渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="同构渲染"><!--[--><!--]--> 同构渲染 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#服务端渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务端渲染"><!--[--><!--]--> 服务端渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#客户端渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="客户端渲染"><!--[--><!--]--> 客户端渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#vue同构渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue同构渲染"><!--[--><!--]--> Vue同构渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Interview/Vue/Vue%E9%9D%A2%E7%BB%8F.html#同构渲染存在的问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="同构渲染存在的问题"><!--[--><!--]--> 同构渲染存在的问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="vue面经" tabindex="-1"><a class="header-anchor" href="#vue面经" aria-hidden="true">#</a> Vue面经</h1><h2 id="动态表单" tabindex="-1"><a class="header-anchor" href="#动态表单" aria-hidden="true">#</a> 动态表单</h2><h3 id="表单配置文件中" tabindex="-1"><a class="header-anchor" href="#表单配置文件中" aria-hidden="true">#</a> 表单配置文件中</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> DyFormConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../components/DyForm/DyForm.&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ElButton<span class="token punctuation">,</span>ElInput<span class="token punctuation">,</span>ElCheckbox<span class="token punctuation">,</span>ElSelect<span class="token punctuation">,</span>ElOption<span class="token punctuation">,</span>ElSwitch<span class="token punctuation">,</span>ElCheckboxGroup<span class="token punctuation">,</span>ElRadioGroup<span class="token punctuation">,</span>ElRadio<span class="token punctuation">,</span>ElCol<span class="token punctuation">,</span>ElDatePicker<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-plus&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserForm</span> <span class="token punctuation">{</span>
    name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    organization<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    date1<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    date2<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    delivery<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
    type<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    resource<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    desc<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    personInfo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    developerName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    sponsorName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useDyFormConfig</span><span class="token punctuation">(</span>dyForm<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> DyFormConfig<span class="token operator">:</span> DyFormConfig<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;请输入姓名&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                placeholder<span class="token operator">:</span> <span class="token string">&#39;请输入姓名&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElSelect<span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;请选择组织&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                placeholder<span class="token operator">:</span> <span class="token string">&#39;请选择您的组织&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;organization&#39;</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElOption<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;个人&#39;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&#39;person&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElOption<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;公司&#39;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&#39;company&#39;</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElOption<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;无&#39;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&#39;none&#39;</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token function">next</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>formData<span class="token punctuation">.</span>organization <span class="token operator">===</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span>
                        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                                type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
                                formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                    label<span class="token operator">:</span> <span class="token string">&#39;请输入您所属组织&#39;</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>formData<span class="token punctuation">.</span>organization <span class="token operator">===</span> <span class="token string">&#39;company&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span>
                            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                style<span class="token operator">:</span> <span class="token punctuation">{</span>
                                    width<span class="token operator">:</span> <span class="token string">&#39;100%&#39;</span><span class="token punctuation">,</span>
                                    display<span class="token operator">:</span> <span class="token string">&#39;flex&#39;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                label<span class="token operator">:</span> <span class="token string">&#39;请选择日期&#39;</span><span class="token punctuation">,</span> 
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                                <span class="token punctuation">{</span>
                                    type<span class="token operator">:</span> ElCol<span class="token punctuation">,</span>
                                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                        span<span class="token operator">:</span> <span class="token number">11</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                                        <span class="token punctuation">{</span>
                                            needFormItem<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                            type<span class="token operator">:</span> ElDatePicker<span class="token punctuation">,</span>
                                            formDataKey<span class="token operator">:</span> <span class="token string">&#39;date1&#39;</span><span class="token punctuation">,</span>
                                            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                                type<span class="token operator">:</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span>
                                                placeholder<span class="token operator">:</span> <span class="token string">&quot;请选择进入公司日期&quot;</span><span class="token punctuation">,</span>
                                                style<span class="token operator">:</span> <span class="token string">&quot;width: 100%&quot;</span>
                                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                        <span class="token punctuation">}</span>
                                    <span class="token punctuation">]</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{</span>
                                    type<span class="token operator">:</span> ElCol<span class="token punctuation">,</span>
                                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                        span<span class="token operator">:</span> <span class="token number">2</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                                        <span class="token punctuation">{</span>
                                            type<span class="token operator">:</span> <span class="token string">&#39;span&#39;</span><span class="token punctuation">,</span>
                                            children<span class="token operator">:</span> <span class="token string">&#39;-&#39;</span>
                                        <span class="token punctuation">}</span>
                                    <span class="token punctuation">]</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{</span>
                                    type<span class="token operator">:</span> ElCol<span class="token punctuation">,</span>
                                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                        span<span class="token operator">:</span> <span class="token number">11</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                                        <span class="token punctuation">{</span>
                                            needFormItem<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                            type<span class="token operator">:</span> ElDatePicker<span class="token punctuation">,</span>
                                            formDataKey<span class="token operator">:</span> <span class="token string">&#39;date2&#39;</span><span class="token punctuation">,</span>
                                            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                                type<span class="token operator">:</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span>
                                                placeholder<span class="token operator">:</span> <span class="token string">&quot;请选择毕业日期&quot;</span><span class="token punctuation">,</span>
                                                style<span class="token operator">:</span> <span class="token string">&quot;width: 100%&quot;</span>
                                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                        <span class="token punctuation">}</span>
                                    <span class="token punctuation">]</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>

                            <span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token function">next</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span>
                                <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                                    type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
                                    formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                        label<span class="token operator">:</span> <span class="token string">&#39;请输入个人信息&#39;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                        placeholder<span class="token operator">:</span> <span class="token string">&#39;请输入个人信息&#39;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">}</span><span class="token punctuation">]</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                        type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
                        formDataKey<span class="token operator">:</span> <span class="token string">&#39;personInfo&#39;</span><span class="token punctuation">,</span>
                        formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                            label<span class="token operator">:</span> <span class="token string">&#39;请输入个人信息&#39;</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                            placeholder<span class="token operator">:</span> <span class="token string">&#39;请输入个人信息&#39;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElSwitch<span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;delivery&#39;</span><span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;Instant delivery&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElCheckboxGroup<span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;Activity type&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> type<span class="token operator">:</span> ElCheckbox<span class="token punctuation">,</span> slots<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;活动1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;活动1&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> type<span class="token operator">:</span> ElCheckbox<span class="token punctuation">,</span> slots<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;活动2&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;活动2&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> type<span class="token operator">:</span> ElCheckbox<span class="token punctuation">,</span> slots<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;活动3&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;活动3&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> type<span class="token operator">:</span> ElCheckbox<span class="token punctuation">,</span> slots<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;活动4&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> formConfig<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;活动4&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>

        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElRadioGroup<span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;resource&#39;</span><span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;Resources&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElRadio<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                        label<span class="token operator">:</span> <span class="token string">&#39;Sponsor&#39;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElRadio<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                        label<span class="token operator">:</span> <span class="token string">&#39;Developer&#39;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token function">next</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> resource <span class="token operator">=</span> formData<span class="token punctuation">.</span>resource
                <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">&#39;Sponsor&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
                            formDataKey<span class="token operator">:</span> <span class="token string">&#39;sponsorName&#39;</span><span class="token punctuation">,</span>
                            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                label<span class="token operator">:</span> <span class="token string">&#39;请输入赞助商名称&#39;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string-property property">&#39;Developer&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
                            formDataKey<span class="token operator">:</span> <span class="token string">&#39;developerName&#39;</span><span class="token punctuation">,</span>
                            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                label<span class="token operator">:</span> <span class="token string">&#39;请输入开发商名称&#39;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span> <span class="token keyword">as</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> DyFormConfig<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>resource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>resource<span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> ElInput<span class="token punctuation">,</span>
            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                type<span class="token operator">:</span> <span class="token string">&#39;textarea&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            formDataKey<span class="token operator">:</span> <span class="token string">&#39;desc&#39;</span><span class="token punctuation">,</span>
            formItemConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                label<span class="token operator">:</span> <span class="token string">&#39;Activity form&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span>
            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                style<span class="token operator">:</span> <span class="token punctuation">{</span>
                    width<span class="token operator">:</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">,</span>
                    display<span class="token operator">:</span> <span class="token string">&quot;flex&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElCol<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                        span<span class="token operator">:</span> <span class="token number">6</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> ElButton<span class="token punctuation">,</span>
                            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                type<span class="token operator">:</span> <span class="token string">&#39;warning&#39;</span><span class="token punctuation">,</span>
                                <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                                    <span class="token keyword">const</span> formRef <span class="token operator">=</span> dyForm<span class="token operator">!</span><span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">getFormRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                    formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            slots<span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;确认&#39;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> ElCol<span class="token punctuation">,</span>
                    formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                        span<span class="token operator">:</span> <span class="token number">18</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    children<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            type<span class="token operator">:</span> ElButton<span class="token punctuation">,</span>
                            formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
                                type<span class="token operator">:</span> <span class="token string">&#39;danger&#39;</span><span class="token punctuation">,</span>
                                <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                                    <span class="token keyword">const</span> formRef <span class="token operator">=</span> dyForm<span class="token operator">!</span><span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">getFormRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                    formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            slots<span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;取消&#39;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        DyFormConfig
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在dyform-ts中" tabindex="-1"><a class="header-anchor" href="#在dyform-ts中" aria-hidden="true">#</a> 在DyForm.ts中</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> VNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getTypes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../utils/types&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">type</span> <span class="token class-name">FormInstance</span><span class="token punctuation">,</span>ElForm<span class="token punctuation">,</span>ElFormItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineComponent<span class="token punctuation">,</span>ref<span class="token punctuation">,</span>h<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">interface</span> <span class="token class-name">Slots</span> <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span> <span class="token operator">|</span> VNode
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Next</span> <span class="token operator">=</span> <span class="token punctuation">(</span>formData<span class="token operator">:</span> Props<span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> DyFormConfig<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> DyFormConfig


<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DyFormConfig<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Props<span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
  formConfig<span class="token operator">?</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>
  formDataKey<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span>
  formItemConfig<span class="token operator">?</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>
  children<span class="token operator">?</span><span class="token operator">:</span> DyFormConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">string</span>
  slots<span class="token operator">?</span><span class="token operator">:</span> Slots
  next<span class="token operator">?</span><span class="token operator">:</span> Next
  needFormItem<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  modelValue<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>
  dyFormConfig<span class="token operator">:</span> DyFormConfig<span class="token punctuation">[</span><span class="token punctuation">]</span>
  formConfig<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> DyForm <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineComponent</span><span class="token generic class-name"><span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit<span class="token punctuation">,</span> expose <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      getFormRef<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">&amp;</span> FormInstance <span class="token operator">=&gt;</span> formRef
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">rederChild</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>dyFormConfig<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token operator">:</span> DyFormConfig<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> traverChildren <span class="token operator">=</span> <span class="token punctuation">(</span>child<span class="token operator">:</span> DyFormConfig<span class="token punctuation">[</span><span class="token string">&#39;children&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> child <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> child <span class="token operator">!==</span> <span class="token string">&#39;string&#39;</span> <span class="token operator">&amp;&amp;</span> child<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
          item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> item<span class="token punctuation">.</span>children <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">,</span> item<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">const</span> childeVnode <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">,</span> item<span class="token punctuation">.</span>formDataKey <span class="token operator">?</span>
              <span class="token punctuation">{</span>
                <span class="token operator">...</span>item<span class="token punctuation">.</span>formConfig<span class="token punctuation">,</span>
                modelValue<span class="token operator">:</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">[</span>item<span class="token punctuation">.</span>formDataKey<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string-property property">&#39;onUpdate:modelValue&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span> <span class="token punctuation">[</span>item<span class="token punctuation">.</span>formDataKey <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span> <span class="token operator">:</span>
              item<span class="token punctuation">.</span>formConfig<span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>item<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> <span class="token function">traverChildren</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>slots <span class="token operator">&amp;&amp;</span> <span class="token function">renderSlots</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>needFormItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>ElFormItem<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>item<span class="token operator">?.</span>formItemConfig<span class="token punctuation">,</span> prop<span class="token operator">:</span>item<span class="token operator">?.</span>formConfig<span class="token operator">?.</span>prop <span class="token operator">||</span> item<span class="token punctuation">.</span>formDataKey <span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>childeVnode<span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> childeVnode
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> renderSlots <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token operator">:</span> DyFormConfig<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>slots <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>slot<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> options<span class="token punctuation">.</span>slots<span class="token operator">!</span><span class="token punctuation">[</span>slot<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> render <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token operator">:</span> DyFormConfig<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>ElFormItem<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>options<span class="token punctuation">.</span>formItemConfig<span class="token punctuation">,</span> prop<span class="token operator">:</span> options<span class="token operator">?.</span>formConfig<span class="token operator">?.</span>prop <span class="token operator">||</span> options<span class="token punctuation">.</span>formDataKey <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
              <span class="token function">h</span><span class="token punctuation">(</span>
                options<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
                options<span class="token punctuation">.</span>formDataKey <span class="token operator">?</span>
                  <span class="token punctuation">{</span>
                    <span class="token operator">...</span>options<span class="token punctuation">.</span>formConfig<span class="token punctuation">,</span>
                    modelValue<span class="token operator">:</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">[</span>options<span class="token punctuation">.</span>formDataKey<span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string-property property">&#39;onUpdate:modelValue&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">.</span>formDataKey <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span>
                  <span class="token punctuation">}</span> <span class="token operator">:</span> options<span class="token punctuation">.</span>formConfig<span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>options<span class="token punctuation">.</span>slots <span class="token operator">?</span> <span class="token function">renderSlots</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">traverChildren</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">)</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> renderNext <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> DyFormConfig<span class="token punctuation">)</span><span class="token operator">:</span> DyFormConfig<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> nextOptions <span class="token operator">=</span> item<span class="token punctuation">.</span>next<span class="token operator">?.</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelValue<span class="token punctuation">)</span> <span class="token keyword">as</span> DyFormConfig
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nextOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">请检查next函数返回值是否有误,目前返回值为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nextOptions<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getTypes</span><span class="token punctuation">(</span>nextOptions<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;Object&#39;</span> <span class="token operator">&amp;&amp;</span> nextOptions<span class="token operator">?.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">renderNext</span><span class="token punctuation">(</span>nextOptions<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>nextOptions<span class="token punctuation">)</span> <span class="token operator">?</span> nextOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>option <span class="token operator">=&gt;</span> <span class="token function">render</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">render</span><span class="token punctuation">(</span>nextOptions<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> renderVnode <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span>next <span class="token operator">?</span> <span class="token punctuation">[</span>renderVnode<span class="token punctuation">,</span><span class="token function">renderNext</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span>renderVnode<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>FormInstance<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>ElForm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        ref<span class="token operator">:</span> formRef<span class="token punctuation">,</span>
        model<span class="token operator">:</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span>
        <span class="token operator">...</span>props<span class="token punctuation">.</span>formConfig
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">rederChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      modelValue<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
        required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      dyFormConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
        required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      formConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用的时候" tabindex="-1"><a class="header-anchor" href="#使用的时候" aria-hidden="true">#</a> 使用的时候</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>DyForm<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/Dyform/DyForm.ts&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDyFormConfig<span class="token punctuation">,</span> UserForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils/constant&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> dyForm <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DyFormConfig <span class="token punctuation">}</span>  <span class="token operator">=</span> <span class="token function">useDyFormConfig</span><span class="token punctuation">(</span>dyForm<span class="token punctuation">)</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserForm<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    organization<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    date1<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    date2<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    delivery<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    resource<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    desc<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    personInfo<span class="token operator">:</span><span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rules <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;Please input Activity name&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;Length should be 3 to 5&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  region<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please select Activity zone&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  delivery<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please select delivery&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  organization<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please select organization&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  date1<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;date&#39;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please pick a date&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  date2<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;date&#39;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please pick a time&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;array&#39;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please select at least one activity type&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  resource<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Please select activity resource&#39;</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  desc<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;Please input activity form&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> formConfig <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  labelWidth<span class="token operator">:</span> <span class="token string">&#39;130px&#39;</span><span class="token punctuation">,</span>
  rules
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>DyForm ref<span class="token operator">=</span><span class="token string">&quot;dyForm&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;form&quot;</span> <span class="token operator">:</span>dyFormConfig<span class="token operator">=</span><span class="token string">&quot;DyFormConfig&quot;</span> <span class="token operator">:</span>formConfig<span class="token operator">=</span><span class="token string">&quot;formConfig&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/Vue/dyform.gif" alt=""></p><h2 id="vue2和vue3区别" tabindex="-1"><a class="header-anchor" href="#vue2和vue3区别" aria-hidden="true">#</a> Vue2和vue3区别</h2><p>vue2的缺点：</p><ul><li>对TypeScript支持不友好（所有属性都放在了this对象上，难以推倒组件的数据类型）</li><li>大量的API挂载在Vue对象的原型上，难以实现TreeShaking。</li><li>逻辑复用维护困难，靠mixin存在数据来源不清晰问题。</li><li>性能上存在问题，例如（响应式会递归对象，而Vue3是懒劫持），编译器也没有做很好的优化。</li><li>架构层面对跨平台dom渲染开发支持不友好,vue3允许自定义渲染器，扩展能力强（自定义渲染器<strong>可自定义元素的增加、删除、查找等操作</strong>、<strong>可自定义元素自身属性/特性的修改操作</strong>，这样我们就可以将vue代码应用在小程序等其他平台上。）。</li></ul><p>Vue3</p><ul><li>Vue3.0更注重模块上的拆分，在2.0中无法单独使用部分模块。需要引入完整的Vuejs(例如只想使用使用响应式部分，但是需要引入完整的Vuejs)， Vue3中的模块之间耦合度低，模块可以独立使用。<strong>拆分模块</strong></li><li>Vue2中很多方法挂载到了实例中导致没有使用也会被打包（还有很多组件也是一样）。通过构建工具Tree-shaking机制实现按需引入，减少用户打包后体积。<strong>重写API</strong></li><li>Vue3允许自定义渲染器，扩展能力强。不会发生以前的事情，改写Vue源码改造渲染方式。<strong>扩展更方便</strong>。<a href="https://cn.vuejs.org/api/custom-renderer.html#createrenderer" target="_blank" rel="noopener noreferrer">自定义渲染器文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>对模板的编译进行了优化操作（静态提升，预字符串化）</li><li>代码采用Monorepo的方式去维护，可以更方便扩展和维护项目对于框架开发者。</li></ul><h2 id="同构渲染" tabindex="-1"><a class="header-anchor" href="#同构渲染" aria-hidden="true">#</a> 同构渲染</h2><h3 id="服务端渲染" tabindex="-1"><a class="header-anchor" href="#服务端渲染" aria-hidden="true">#</a> 服务端渲染</h3><p>服务端渲染有以下步骤</p><ol><li>浏览器请求站点</li><li>服务器调用请求数据的接口</li><li>接口将数据返回给服务器</li><li>服务器将数据和模版拼接出来HTML字符串</li><li>服务器将HTML欺负穿发给浏览器</li><li>浏览器解析渲染</li></ol><p>这样的方式用户体验很差，为什么呢？每次用户点击页面跳转都会重新执行上面6个步骤，浏览器重新刷新。</p><h3 id="客户端渲染" tabindex="-1"><a class="header-anchor" href="#客户端渲染" aria-hidden="true">#</a> 客户端渲染</h3><ol><li>浏览器请求站点</li><li>服务器返回一个空的HTML只有<code>&lt;div id=&#39;#app&#39;&gt;&lt;/div&gt;</code></li><li>浏览器得到后解析执行js，当js执行完成后会有DOM骨架，但是数据还要通过AJAX得到</li><li>然后拿到接口数据，渲染出内容</li></ol><p>这种方式首屏会慢，其次不利于SEO。但是用户体验好，不需要跳转页面。</p><h3 id="vue同构渲染" tabindex="-1"><a class="header-anchor" href="#vue同构渲染" aria-hidden="true">#</a> Vue同构渲染</h3><p>同构渲染就是将CSR和SSR 客户端渲染、服务端渲染结合的方式。</p><p>Vue的服务端渲染时，由于保存的是当前应用快照，不存在数据变化重新渲染的情况，因此数据不需要响应式，减少创建响应式的开销，且没有beforeupdate和updated钩子。</p><p>由于服务端不需要真实渲染出DOM因此不会执行渲染的副作用函数，也因此服务端渲染没有beforemounted和mounted钩子。</p><p><strong>原理：</strong></p><ol><li><p>服务端将组件渲染成HTML字符串</p></li><li><p>浏览器拿到服务端渲染的字符串后渲染DOM</p></li><li><p>此时客户端需要完成激活操作（也称为注水），也就是将DOM树与虚拟DOM进行关联，并给DOM树的节点添加事件。</p><p>采用广度优先策略遍历DOM，这一块客户端需要将VNODE的el指向真实DOM，如果虚拟DOM类型是组件，则执行<code>mountComponent</code>，这个函数会判断VNODE.el是否存在如果存在执行激活<code>hydrateNode</code>操作不渲染真实DOM。</p></li><li><p>之后就按照CSR方式执行。</p></li></ol><h3 id="同构渲染存在的问题" tabindex="-1"><a class="header-anchor" href="#同构渲染存在的问题" aria-hidden="true">#</a> 同构渲染存在的问题</h3><p>跨平台问题。由于组件代码既运行在浏览器又运行在服务器，所以编写代码要尽可能避免使用平台特有的API，例如<code>localstorage window document</code>等。</p><p>如果需要使用，用<code>i<wbr>mport.meta.env.SSR</code>包裹，这一块代码如果在服务端在打包阶段会被删掉，如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SSR</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>xxxx
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第三方依赖如果使用了平台特有API怎么办，这种情况不可控</strong></p><p>方案一（缺点：该模块将只在客户端生效，服务端缺失该模块功能。）</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SSR</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方案二用<code>ClientOnly</code>组件,直接看实现原理</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>export const ClientOnly = defineComponent({
	setup(_,{slots}){
		const show = ref(false)
		onMounted(()=&gt;show.value = true)
		return ()=&gt;(show.value &amp;&amp; slots.default ? slots.default : null)
	}
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>交叉感染问题</strong></p><p>服务端每次调用render函数进行服务端渲染时，都会调用<code>createSSRApp</code>创建新的应用实例，避免不同请求共用一个实例污染了状态。例如下面，A访问该站点，组件内<code>count++</code>，B也访问，此时<code>count</code>值是A的那个，因为是同一个实例对象（<strong>服务器和客户是一对多</strong>）。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
        count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器和客户是一对一，因此不会出现公用一个实例问题。</p><p>因此为了避免交叉感染，在组件内不要使用全局变量</p><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><div class="container" data-v-25ddea2d><span class="des" data-v-25ddea2d>暂无记录 <span class="arrow down" data-v-25ddea2d></span></span><div class="rencent-content-container" data-v-25ddea2d><!--[--><!--]--></div></div><!--]--></div>
    <script type="module" src="/assets/app-c7df0862.js" defer></script>
  </body>
</html>
